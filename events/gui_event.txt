namespace = rds_setting

event = {
	id = rds_setting.2
	title = rds_setting.gui.name
	desc = rds_setting.gui.desc
	force_open = yes	
	picture_event_data = {
		room = "crisis_room"
	}
	location = root
	is_triggered_only = yes
	diplomatic = yes
	trigger = {
	}
	immediate = {
	}
	#PLANET_DESTROYER
	option = {
		name = rds_setting.planet_destroyer.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = planet_destroyer }
			}
		}
		custom_tooltip = rds_setting.planet_destroyer.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = planet_destroyer }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.planet_destroyer.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = planet_destroyer }
		}
		custom_tooltip = rds_setting.planet_destroyer.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = planet_destroyer }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#NO_UNKEEP
	option = {
		name = rds_setting.no_unkeep.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = no_unkeep }
			}
		}
		custom_tooltip = rds_setting.no_unkeep.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = no_unkeep }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.no_unkeep.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = no_unkeep }
		}
		custom_tooltip = rds_setting.no_unkeep.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = no_unkeep }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#COORDINATE_EDITING
	option = {
		name = rds_setting.coordinate_editing.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = coordinate_editing }
			}
		}
		custom_tooltip = rds_setting.coordinate_editing.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = coordinate_editing }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.coordinate_editing.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = coordinate_editing }
		}
		custom_tooltip = rds_setting.coordinate_editing.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = coordinate_editing }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#VECTOR_EDITING
	option = {
		name = rds_setting.vector_editing.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = vector_editing }
			}
		}
		custom_tooltip = rds_setting.vector_editing.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = vector_editing }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.vector_editing.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = vector_editing }
		}
		custom_tooltip = rds_setting.vector_editing.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = vector_editing }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#NO_DISABLED_SHIP
	option = {
		name = rds_setting.no_disabled_ship.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = no_disabled_ship }
			}
		}
		custom_tooltip = rds_setting.no_disabled_ship.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = no_disabled_ship }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.no_disabled_ship.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = no_disabled_ship }
		}
		custom_tooltip = rds_setting.no_disabled_ship.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = no_disabled_ship }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#UNBREAKABLE_SHIP
	option = {
		name = rds_setting.unbreakable_ship.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = unbreakable_ship }
			}
		}
		custom_tooltip = rds_setting.unbreakable_ship.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = unbreakable_ship }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.unbreakable_ship.off
		trigger = {
			ROOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = unbreakable_ship }
			}
		}
		custom_tooltip = rds_setting.unbreakable_ship.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = unbreakable_ship }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#NO_DISENGAGE
	option = {
		name = rds_setting.no_disengage.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = no_disengage }
			}
		}
		custom_tooltip = rds_setting.no_disengage.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = no_disengage }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.no_disengage.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = no_disengage }
		}
		custom_tooltip = rds_setting.no_disengage.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = no_disengage }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#ACCURACY_BUFF
	option = {
		name = rds_setting.accuracy_buff.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = accuracy_buff }
			}
		}
		custom_tooltip = rds_setting.accuracy_buff.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = accuracy_buff }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.accuracy_buff.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = accuracy_buff }
		}
		custom_tooltip = rds_setting.accuracy_buff.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = accuracy_buff }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#SHIP_HP_AMOUNT_REDUCE_SYSTEM
	option = {
		name = rds_setting.ship_hp_amount_reduce_system.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = ship_hp_amount_reduce_system }
			}
		}
		custom_tooltip = rds_setting.ship_hp_amount_reduce_system.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = ship_hp_amount_reduce_system }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.ship_hp_amount_reduce_system.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = ship_hp_amount_reduce_system }
		}
		custom_tooltip = rds_setting.ship_hp_amount_reduce_system.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = ship_hp_amount_reduce_system }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#SHIELD_ERASING_SYSTEM
	option = {
		name = rds_setting.shield_erasing_system.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = shield_erasing_system }
			}
		}
		custom_tooltip = rds_setting.shield_erasing_system.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = shield_erasing_system }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.shield_erasing_system.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = shield_erasing_system }
		}
		custom_tooltip = rds_setting.shield_erasing_system.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = shield_erasing_system }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#ARMOR_ERASING_SYSTEM
	option = {
		name = rds_setting.armor_erasing_system.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = armor_erasing_system }
			}
		}
		custom_tooltip = rds_setting.armor_erasing_system.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = armor_erasing_system }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.armor_erasing_system.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = armor_erasing_system }
		}
		custom_tooltip = rds_setting.armor_erasing_system.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = armor_erasing_system }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#ACCURACY_DEBUFF
	option = {
		name = rds_setting.accuracy_debuff.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = accuracy_debuff }
			}
		}
		custom_tooltip = rds_setting.accuracy_debuff.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = accuracy_debuff }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.accuracy_debuff.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = accuracy_debuff }
		}
		custom_tooltip = rds_setting.accuracy_debuff.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = accuracy_debuff }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#instant_kill
	option = {
		name = rds_setting.instant_kill.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = instant_kill }
			}
		}
		custom_tooltip = rds_setting.instant_kill.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = instant_kill }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.instant_kill.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = instant_kill }
		}
		custom_tooltip = rds_setting.instant_kill.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = instant_kill }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#FLEET_EVENT_UNLOCKER
	option = {
		name = rds_setting.fleet_event_unlocker.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = fleet_event_unlocker }
			}
		}
		custom_tooltip = rds_setting.fleet_event_unlocker.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = fleet_event_unlocker }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.fleet_event_unlocker.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = fleet_event_unlocker }
		}
		custom_tooltip = rds_setting.fleet_event_unlocker.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = fleet_event_unlocker }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#ANTI_HULL_REPAIR
	option = {
		name = rds_setting.anti_hull_repair.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = anti_hull_repair }
			}
		}
		custom_tooltip = rds_setting.anti_hull_repair.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = anti_hull_repair }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.anti_hull_repair.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = anti_hull_repair }
		}
		custom_tooltip = rds_setting.anti_hull_repair.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = anti_hull_repair }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#SPEED_REDUCTION
	option = {
		name = rds_setting.speed_reduction.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = speed_reduction }
			}
		}
		custom_tooltip = rds_setting.speed_reduction.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = speed_reduction }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.speed_reduction.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = speed_reduction }
		}
		custom_tooltip = rds_setting.speed_reduction.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = speed_reduction }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	#SYSTEM_WIDE
	option = {
		name = rds_setting.system_wide.on
		trigger = {
			NOT = {
				dynamic_flag_check = { DYNAMIC_FLAG = system_wide }
			}
		}
		custom_tooltip = rds_setting.system_wide.on.tooltip
		hidden_effect = {
			dynamic_flag_set = { DYNAMIC_FLAG = system_wide }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.system_wide.off
		trigger = {
			dynamic_flag_check = { DYNAMIC_FLAG = system_wide }
		}
		custom_tooltip = rds_setting.system_wide.off.tooltip
		hidden_effect = {
			dynamic_flag_remove = { DYNAMIC_FLAG = system_wide }
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.default_settings
		trigger = {
			is_scope_type = fleet
		}
		hidden_effect = {
			fleet_event = {
				id = rds_setting.3
			}
			dynamic_event = { EVENT = rds_setting.2 }
		}
	}
	option = {
		name = rds_setting.gui_close
		trigger = {
		}
		hidden_effect = {
			if = {
				limit = {
					is_scope_type = fleet
				}
				every_owned_ship = {
					limit = {
						EQUIPPED_WITH_RDS = yes
					}
					ship_event = {
						id = rds_setting.3
					}
				}
			}
		}
	}
}

event = {
	id = rds_setting.3
	hide_window = yes
	trigger = {
	}
	is_triggered_only = yes
	immediate = {
		rds_setting_flag_converter = { RDS_SETTING_FLAG = system_wide }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = speed_reduction }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = anti_hull_repair }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = fleet_event_unlocker }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = instant_kill }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = armor_erasing_system }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = shield_erasing_system }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = ship_hp_amount_reduce_system }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = no_disengage }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = unbreakable_ship }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = no_disabled_ship }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = accuracy_buff }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = vector_editing }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = coordinate_editing }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = science_ship_buff }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = accuracy_debuff }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = no_unkeep }
		rds_setting_flag_converter = { RDS_SETTING_FLAG = planet_destroyer }
	}
}

ship_event = {
	id = rds_setting.4
	hide_window = yes
	trigger = {
	}
	is_triggered_only = yes
	immediate = {
		ship_event = {
			id = rds_setting.3
		}
		fleet = {
			fleet_event = {
				id = rds_setting.3
			}
		}
	}
}